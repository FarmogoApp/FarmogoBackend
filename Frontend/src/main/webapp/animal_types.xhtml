<?xml version="1.0" encoding="UTF-8"?>
<!--
  Created by IntelliJ IDEA.
  User: sta
  Date: 07/11/2019
  Time: 20:46
-->
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
>

<h:head>
    <title>Animal Types</title>
    <h:outputStylesheet name="primeicons/primeicons.css" library="primefaces"/>
</h:head>

<h:body>
    <p:growl id="msgs" showDetail="true"/>
    <h:form id="listAnimalForm">
        <p:commandButton value="Add"
                         icon="pi pi-plus-circle"
                         actionListener="#{animalTypeView.clearSelection}"
                         update="newAnimalTypeDialog"
                         oncomplete="PF('newAnimalTypeDialog').show()"
        />


        <p:dataTable
                id="animalTypesTable"
                value="#{animalTypeView.animalTypeList}"
                var="elem"
                rowKey="#{elem.animalType}"
                selectionMode="single"
                selection="#{animalTypeView.animalType}">
            <p:column headerText="Id">
                <h:outputText value="#{elem.animalType}"/>
            </p:column>
            <p:column headerText="Description">
                <p:cellEditor>
                    <f:facet name="output"><h:outputText value="#{elem.description}"/></f:facet>
                    <f:facet name="input"><p:inputText value="#{elem.description}" style="width:100%"/></f:facet>
                </p:cellEditor>
            </p:column>
            <p:column headerText="Icon">
                <p:cellEditor>
                    <f:facet name="output"><h:outputText value="#{elem.icon}"/></f:facet>
                    <f:facet name="input"><p:inputText value="#{elem.icon}" style="width:100%"/></f:facet>
                </p:cellEditor>
            </p:column>
        </p:dataTable>
        <p:contextMenu for="animalTypesTable">
            <p:menuitem value="Edit" update="newAnimalTypeDialog"
                        oncomplete="PF('newAnimalTypeDialog').show()"/>
            <p:menuitem value="Delete" update="animalTypesTable" action="#{animalTypeView.delete}"/>
        </p:contextMenu>
    </h:form>


    <p:dialog modal="true" closable="true" id="newAnimalTypeDialog" widgetVar="newAnimalTypeDialog">
        <f:facet name="header">
            New Animal Type
        </f:facet>
        <h:form id="newAnimal">
            <p:panelGrid columns="2">

                <h:outputLabel value="Description"/>
                <p:inputText value="#{animalTypeView.animalType.description}"/>

                <h:outputLabel value="Icon"/>
                <p:inputText value="#{animalTypeView.animalType.icon}"/>

                <p:column/>
                <p:commandButton value="Save" icon="pi pi-save"
                                 actionListener="#{animalTypeView.save}"
                                 update=":listAnimalForm:animalTypesTable"
                                 oncomplete="PF('newAnimalTypeDialog').hide()"/>
            </p:panelGrid>
        </h:form>

    </p:dialog>

</h:body>

</html>